// import React from 'react'
// import ReactDOM from 'react-dom/client'
// import { BrowserRouter } from 'react-router-dom'
// import App from './App'
// import './index.css'

// const root = ReactDOM.createRoot(document.getElementById('root'))
// root.render(
//   <React.StrictMode>
//     <BrowserRouter>
//       <App />
//     </BrowserRouter>
//   </React.StrictMode>
// )

// @import url('https://fonts.googleapis.com/css2?family=Stack+Sans+Notch:wght@200..700&display=swap');
// @import "tailwindcss";


// @theme {
//   --color-primary: #1368EC;
//   --font-display: "Poppins", sans-serif;
//   --font-stack: "Stack Sans Notch", sans-serif;
//   --breakpoint-3xl: 1920px;
// }

// @layer base {
//   html {
//     font-family: var(--font-stack);
//   }

//   body {
//     background-color: #fcfbfc;
//     overflow-x: hidden;
//   }
// }


// .input-box {
//   @apply w-full flex justify-between gap-3 text-sm text-black bg-slate-100/50 rounded px-4 py-3 mb-3 mt-3 border border-slate-200 outline-none
// }

// .btn-primary {
//   @apply w-full text-sm font-medium text-white bg-primary shadow-lg shadow-purple-600/5 p-2.5 rounded-md my-1 hover:bg-blue-600/75 cursor-pointer
// }

// .card {
//   @apply bg-white p-6 rounded-2xl shadow-md shadow-gray-100 border
// }

// .card-btn {
//   @apply flex items-center gap-3 text-xs font-medium text-gray-700 hover:text-primary bg-gray-50 hover:bg-blue-50 px-4 py-1.5 rounded-lg border border-gray-200/50 cursor-pointer
// }

// /* Add these to your App.css or global stylesheet */

// /* Button Styles */
// .btn-primary {
//   background-color: #2563eb;
//   color: white;
//   padding: 0.5rem 1rem;
//   border-radius: 0.5rem;
//   font-weight: 500;
//   transition: background-color 0.2s;
// }

// .btn-primary:hover {
//   background-color: #1d4ed8;
// }

// .btn-primary:disabled {
//   background-color: #93c5fd;
//   cursor: not-allowed;
// }

// .btn-secondary {
//   background-color: #e5e7eb;
//   color: #374151;
//   padding: 0.5rem 1rem;
//   border-radius: 0.5rem;
//   font-weight: 500;
//   transition: background-color 0.2s;
// }

// .btn-secondary:hover {
//   background-color: #d1d5db;
// }

// /* Input Field Styles */
// .input-field {
//   width: 100%;
//   padding: 0.5rem 0.75rem;
//   border: 1px solid #d1d5db;
//   border-radius: 0.5rem;
//   outline: none;
//   transition: all 0.2s;
// }

// .input-field:focus {
//   border-color: #3b82f6;
//   box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
// }

// /* Card Styles */
// .card {
//   background-color: white;
//   border-radius: 0.5rem;
//   box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
//   padding: 1.5rem;
// }

// .card-btn {
//   display: flex;
//   align-items: center;
//   gap: 0.5rem;
//   padding: 0.5rem 1rem;
//   background-color: #2563eb;
//   color: white;
//   border-radius: 0.5rem;
//   font-size: 0.875rem;
//   font-weight: 500;
//   transition: background-color 0.2s;
// }

// .card-btn:hover {
//   background-color: #1d4ed8;
// }

// /* Line Clamp Utilities */
// .line-clamp-1 {
//   display: -webkit-box;
//   -webkit-line-clamp: 1;
//   -webkit-box-orient: vertical;
//   overflow: hidden;
//   text-overflow: ellipsis;
// }

// .line-clamp-2 {
//   display: -webkit-box;
//   -webkit-line-clamp: 2;
//   -webkit-box-orient: vertical;
//   overflow: hidden;
//   text-overflow: ellipsis;
// }

// .line-clamp-3 {
//   display: -webkit-box;
//   -webkit-line-clamp: 3;
//   -webkit-box-orient: vertical;
//   overflow: hidden;
//   text-overflow: ellipsis;
// }

// /* Progress Bar Animation */
// @keyframes progress-animation {
//   0% {
//     width: 0%;
//   }

//   100% {
//     width: var(--progress-width);
//   }
// }

// /* Table Styles */
// table {
//   border-collapse: collapse;
// }

// table thead tr {
//   background-color: #f9fafb;
// }

// table tbody tr {
//   transition: background-color 0.2s;
// }

// table tbody tr:hover {
//   background-color: #f9fafb;
// }

// /* Custom Scrollbar */
// ::-webkit-scrollbar {
//   width: 8px;
//   height: 8px;
// }

// ::-webkit-scrollbar-track {
//   background: #f1f1f1;
//   border-radius: 4px;
// }

// ::-webkit-scrollbar-thumb {
//   background: #888;
//   border-radius: 4px;
// }

// ::-webkit-scrollbar-thumb:hover {
//   background: #555;
// }

// /* Status Badge Styles */
// .status-badge {
//   display: inline-flex;
//   align-items: center;
//   padding: 0.25rem 0.75rem;
//   border-radius: 9999px;
//   font-size: 0.75rem;
//   font-weight: 500;
// }

// /* Priority Badge Styles */
// .priority-badge {
//   display: inline-flex;
//   align-items: center;
//   padding: 0.25rem 0.5rem;
//   border-radius: 9999px;
//   font-size: 0.75rem;
//   border-width: 1px;
// }

// /* Responsive Table */
// @media (max-width: 768px) {
//   .overflow-x-auto {
//     overflow-x: auto;
//     -webkit-overflow-scrolling: touch;
//   }

//   table {
//     min-width: 600px;
//   }
// }

// /* Modal Overlay */
// .modal-overlay {
//   position: fixed;
//   inset: 0;
//   background-color: rgba(0, 0, 0, 0.5);
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   z-index: 50;
//   animation: fadeIn 0.2s ease-out;
// }

// @keyframes fadeIn {
//   from {
//     opacity: 0;
//   }

//   to {
//     opacity: 1;
//   }
// }

// /* Toast Notifications (if needed) */
// .toast {
//   position: fixed;
//   top: 1rem;
//   right: 1rem;
//   padding: 1rem 1.5rem;
//   background-color: white;
//   border-radius: 0.5rem;
//   box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
//   z-index: 100;
//   animation: slideIn 0.3s ease-out;
// }

// @keyframes slideIn {
//   from {
//     transform: translateX(100%);
//     opacity: 0;
//   }

//   to {
//     transform: translateX(0);
//     opacity: 1;
//   }
// }

// .toast-success {
//   border-left: 4px solid #10b981;
// }

// .toast-error {
//   border-left: 4px solid #ef4444;
// }

// .toast-warning {
//   border-left: 4px solid #f59e0b;
// }

// .toast-info {
//   border-left: 4px solid #3b82f6;
// }


// import { useContext, useState } from 'react'
// import './App.css'
// import {
//   BrowserRouter,
//   Routes,
//   Route,
//   Router,
//   Outlet,
//   Navigate
// } from 'react-router-dom'
// import Login from './pages/Auth/Login'
// import Signup from './pages/Auth/Signup'
// import Dashboard from './pages/Admin/Dashboard'
// import ManageTasks from './pages/Admin/ManageTasks'
// import CreateTask from './pages/Admin/CreateTask'
// import PrivateRoute from './routes/PrivateRoute'
// import UserDashboard from './pages/User/UserDashboard'
// import ViewTaskDetails from './pages/User/ViewTaskDetails'
// import UserProvider, { UserContext } from './context/userContext'
// import MyTasks from './pages/User/MyTasks'
// import ManageUsers from './pages/Admin/ManageUsers'

// function App() {
//   const [count, setCount] = useState(0)

//   return (
//     <UserProvider>
//       <div >
//         <Routes>
//           <Route path='/login' element={<Login />} />
//           <Route path='/signup' element={<Signup />} />

//           {/* { Admin Routes } */}
//           <Route element={<PrivateRoute allowedRoles={['admin']} />}>
//             <Route path='/admin/dashboard' element={<Dashboard />} />
//             <Route path='/admin/tasks' element={< ManageTasks />} />
//             <Route path='/admin/create-task' element={<CreateTask />} />
//             <Route path='/admin/users' element={< ManageUsers />} />
//           </Route>

//           {/* { User Routes } */}
//           <Route element={<PrivateRoute allowedRoles={['user', 'member']} />} >
//             <Route path='/user/dashboard' element={<UserDashboard />} />
//             <Route path='/user/tasks' element={<MyTasks />} />
//             <Route path='/user/tasks/:id' element={<ViewTaskDetails />} />
//           </Route>

//           {/* {default Routes} */}
//           <Route path='/' element={<Root />} />

//         </Routes>
//       </div>
//     </UserProvider>
//   )
// }

// export default App

// const Root = () => {
//   const { user, loading } = useContext(UserContext);

//   if (loading) return <div>Loading...</div>;
//   if (!user) return <Navigate to="/login" />;

//   return user.role === "admin"
//     ? <Navigate to="/admin/dashboard" />
//     : <Navigate to="/user/dashboard" />;
// };

// import { API_PATHS } from "./apiPaths";
// import axiosInstance from "./axiosinstance";

// const uploadImage = async (imageFile) => {
//     const formData = new FormData();
//     formData.append('image', imageFile);

//     try {
//         const response = await axiosInstance.post(API_PATHS.IMAGE.UPLOAD_IMAGE, formData, {
//             headers: {
//                 'Content-Type': 'multipart/form-data'
//             }
//         });
//         return response.data;
//     } catch (error) {
//         console.error('Error uploading the image', error);
//         throw error;
//     }
// }

// export default uploadImage;

// export const validateEmail = (email) => {
//     const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
//     return regex.test(email);
// };


// export const addThousandsSeparator = (num) => {
//     if (num == null || isNaN(num)) return "";

//     const [integerPart, fractionalPart] = num.toString().split(".");
//     const formattedInteger = integerPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",")

//     return fractionalPart ?
//         `${formattedInteger}.${fractionalPart}` : formattedInteger;
// }

// import {
//     LuLayoutDashboard,
//     LuUsers,
//     LuClipboardCheck,
//     LuSquarePlus,
//     LuLogOut
// } from "react-icons/lu"

// export const SIDE_MENU_DATA = [
//     {
//         id: "01",
//         label: "Dashboard",
//         icons: LuLayoutDashboard,
//         path: '/admin/dashboard'
//     },
//     {
//         id: "02",
//         label: "Manage Tasks",
//         icons: LuClipboardCheck,
//         path: '/admin/tasks'
//     },
//     {
//         id: "03",
//         label: "Create Task",
//         icons: LuSquarePlus,
//         path: '/admin/create-task'
//     }, {
//         id: "04",
//         label: "Team Members",
//         icons: LuUsers,
//         path: '/admin/users'
//     },
//     {
//         id: "05",
//         label: "Logout",
//         icons: LuLogOut,
//         path: 'logout'
//     }
// ]

// export const SIDE_MENU_USER_DATA = [
//     {
//         id: "01",
//         label: "Dashboard",
//         icons: LuLayoutDashboard,
//         path: '/user/dashboard'
//     },
//     {
//         id: "02",
//         label: "Manage Tasks",
//         icons: LuClipboardCheck,
//         path: '/user/tasks'
//     },
//     {
//         id: "03",
//         label: "Create Task",
//         icons: LuSquarePlus,
//         path: '/user/create-task'
//     }, {
//         id: "04",
//         label: "Team Members",
//         icons: LuUsers,
//         path: '/user/users'
//     },
//     {
//         id: "05",
//         label: "Logout",
//         icons: LuLogOut,
//         path: 'logout'
//     },

// ]

// export const PRIORITY_DATA = [
//     { label: "Low", value: "Low" },
//     { label: "Medium", value: "Medium" },
//     { label: "High", value: "High" },
// ]


// export const STATUS_DATA = [
//     { label: "Pending", value: "Pending" },
//     { label: "In Progress", value: "In Progress" },
//     { label: "Completed", value: "Completed" },
// ]

// import axios from 'axios'

// const BASE_URL = import.meta.env.VITE_APP_API_URL;

// const axiosInstance = axios.create({
//     baseURL: BASE_URL,
//     timeout: 10000,

//     headers: {
//         "Content-Type": "application/json",
//         Accept: "application/json",
//     }
// });


// axiosInstance.interceptors.request.use(
//     (config) => {
//         const accessToken = localStorage.getItem("token");
//         if (accessToken) {
//             config.headers.Authorization = `Bearer ${accessToken}`;

//         }
//         return config
//     },
//     (error) => {
//         return Promise.reject(error);
//     }
// )


// axiosInstance.interceptors.response.use((response) => {
//     return response;
// }, (error) => {
//     if (error.response) {
//         if (error.response.status === 401) {
//             // redirect to login page
//             window.location.href = "/login"
//         } else if (error.response.status === 500) {
//             console.error("Server error.Please try again later.")
//         }
//     } else if (error.code === "ENCONNABORTED") {
//         console.error("Request timeout. Please try again.")
//     }
//     return Promise.reject(error);
// })

// axiosInstance.interceptors.response.use(
//     (response) => {
//         return response;
//     },
//     (error) => {
//         if (error.response) {
//             if (error.response.status === 401) {
//                 // Only redirect if we're not already on login/signup
//                 const currentPath = window.location.pathname;
//                 if (!['/login', '/signup'].includes(currentPath)) {
//                     console.error(" Unauthorized. Redirecting to login...");
//                     localStorage.removeItem('token'); // Clear invalid token
//                     window.location.href = "/login";
//                 }
//             } else if (error.response.status === 500) {
//                 console.error("Server error. Please try again later.");
//             }
//         } else if (error.code === "ECONNABORTED") {
//             console.error("Request timeout. Please try again.");
//         }
//         return Promise.reject(error);
//     }
// );


// export default axiosInstance; 


// export const API_PATHS = {
//     AUTH: {
//         REGISTER: "/api/auth/register",
//         LOGIN: "/api/auth/login",
//         GET_PROFILE: "/api/auth/profile",
//     },
//     USERS: {
//         GET_ALL_USERS: "/api/users",
//         GET_USER_BY_ID: (userId) => `/api/users/${userId}`,
//         CREATE_USER: "/api/users",
//         UPDATE_USER: (userId) => `/api/users/${userId}`,
//         DELETE_USER: (userId) => `/api/users/${userId}`,
//     },
//     TASKS: {
//         GET_DASHBOARD_DATA: "/api/tasks/dashboard-data",
//         GET_USER_DASHBOARD_DATA: "/api/tasks/user-dashboard-data",
//         GET_ALL_TASKS: "/api/tasks",
//         GET_TASK_BY_ID: (taskId) => `/api/tasks/${taskId}`,
//         CREATE_TASK: "/api/tasks",
//         UPDATE_TASK: (taskId) => `/api/tasks/${taskId}`,
//         DELETE_TASK: (taskId) => `/api/tasks/${taskId}`,

//         UPDATE_TASK_STATUS: (taskId) => `/api/tasks/${taskId}/status`,
//         UPDATE_TODO_CHECKLIST: (taskId) => `/api/tasks/${taskId}/todo`

//     },
//     REPORTS: {
//         EXPORT_TASKS: "/api/reports/export/tasks",
//         EXPORT_USERS: "/api/reports/export/users"
//     },
//     IMAGE: {
//         UPLOAD_IMAGE: "/api/auth/upload-image"
//     }
// }


// import React, { useContext } from 'react';
// import { Navigate, Outlet } from 'react-router-dom';
// import { UserContext } from '../context/userContext';

// const PrivateRoute = ({ allowedRoles }) => {
//   const { user, loading } = useContext(UserContext);

//   if (loading) return <div>Loading...</div>;

//   if (!user) return <Navigate to="/login" />;

//   return allowedRoles.includes(user.role)
//     ? <Outlet />
//     : <Navigate to="/login" />;
// };

// export default PrivateRoute;

// import React, { useContext, useEffect, useState } from 'react';
// import DashboardLayout from '../../components/layouts/DashboardLayout';
// import { useUserAuth } from '../../hooks/useUserAuth';
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import { useNavigate, useParams } from 'react-router-dom';
// import moment from 'moment';
// import {
//   IoArrowBack,
//   IoCalendarOutline,
//   IoPersonOutline,
//   IoCheckmarkCircle,
//   IoAttach,
//   IoDownload,
//   IoAlertCircle
// } from 'react-icons/io5';

// const ViewTaskDetails = () => {
//   useUserAuth();
//   const navigate = useNavigate();
//   const { user } = useContext(UserContext);
//   const { id } = useParams();

//   const [task, setTask] = useState(null);
//   const [loading, setLoading] = useState(true);
//   const [updating, setUpdating] = useState(false);
//   const [error, setError] = useState('');
//   const [successMessage, setSuccessMessage] = useState('');

//   useEffect(() => {
//     if (user && id) {
//       fetchTaskDetails();
//     }
//   }, [user, id]);

//   const fetchTaskDetails = async () => {
//     setLoading(true);
//     try {
//       const response = await axiosInstance.get(API_PATHS.TASKS.GET_TASK_BY_ID(id));
//       setTask(response.data);
//       setError('');
//     } catch (error) {
//       console.error('Error fetching task details:', error);
//       setError('Failed to load task details');
//     } finally {
//       setLoading(false);
//     }
//   };

//   const handleTodoToggle = async (todoIndex) => {
//     if (!task) return;

//     const updatedChecklist = task.todoChecklist.map((item, index) =>
//       index === todoIndex ? { ...item, completed: !item.completed } : item
//     );

//     setUpdating(true);
//     setError('');
//     setSuccessMessage('');
    
//     try {
//       const response = await axiosInstance.put(API_PATHS.TASKS.UPDATE_TODO_CHECKLIST(id), {
//         todoChecklist: updatedChecklist
//       });
      
//       setTask(response.data);
//       setSuccessMessage('Checklist updated successfully!');
      
//       setTimeout(() => setSuccessMessage(''), 3000);
//     } catch (error) {
//       console.error('Error updating checklist:', error);
//       setError('Failed to update checklist');
//     } finally {
//       setUpdating(false);
//     }
//   };

//   const handleStatusChange = async (newStatus) => {
//     setUpdating(true);
//     setError('');
//     setSuccessMessage('');
    
//     try {
//       await axiosInstance.put(API_PATHS.TASKS.UPDATE_TASK_STATUS(id), {
//         status: newStatus
//       });
      
//       setTask(prev => ({ ...prev, status: newStatus }));
//       setSuccessMessage('Status updated successfully!');
      
//       setTimeout(() => setSuccessMessage(''), 3000);
      
//       // Refresh task details to get updated progress
//       fetchTaskDetails();
//     } catch (error) {
//       console.error(' Error updating status:', error);
//       setError('Failed to update status');
//     } finally {
//       setUpdating(false);
//     }
//   };

//   const getPriorityColor = (priority) => {
//     switch (priority) {
//       case 'High': return 'bg-red-100 text-red-800 border-red-300';
//       case 'Medium': return 'bg-yellow-100 text-yellow-800 border-yellow-300';
//       case 'Low': return 'bg-green-100 text-green-800 border-green-300';
//       default: return 'bg-gray-100 text-gray-800 border-gray-300';
//     }
//   };

//   const getStatusColor = (status) => {
//     switch (status) {
//       case 'Completed': return 'bg-green-500';
//       case 'In Progress': return 'bg-cyan-500';
//       case 'Pending': return 'bg-yellow-500';
//       default: return 'bg-gray-500';
//     }
//   };

//   const isOverdue = task && new Date(task.dueDate) < new Date() && task.status !== 'Completed';

//   if (loading) {
//     return (
//       <DashboardLayout activeMenu="Manage Tasks">
//         <div className="flex justify-center items-center h-64">
//           <div className="text-center">
//             <div className="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
//             <p className="text-gray-500 mt-2">Loading task details...</p>
//           </div>
//         </div>
//       </DashboardLayout>
//     );
//   }

//   if (error && !task) {
//     return (
//       <DashboardLayout activeMenu="Manage Tasks">
//         <div className="my-5">
//           <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center gap-2">
//             <IoAlertCircle className="text-xl" />
//             {error || 'Task not found'}
//           </div>
//           <button
//             onClick={() => navigate(-1)}
//             className="mt-4 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium flex items-center gap-2"
//           >
//             <IoArrowBack /> Go Back
//           </button>
//         </div>
//       </DashboardLayout>
//     );
//   }

//   const progress = task?.progress || 0;
//   const completedTodos = task?.todoChecklist?.filter(item => item.completed).length || 0;
//   const totalTodos = task?.todoChecklist?.length || 0;

//   return (
//     <DashboardLayout activeMenu="Manage Tasks">
//       <div className="my-5 max-w-4xl mx-auto">
//         {/* Header */}
//         <div className="mb-4">
//           <button
//             onClick={() => navigate(-1)}
//             className="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium flex items-center gap-2 mb-4"
//           >
//             <IoArrowBack /> Back
//           </button>
          
//           {/* Success Message */}
//           {successMessage && (
//             <div className="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 flex items-center gap-2">
//               <IoCheckmarkCircle className="text-xl" />
//               {successMessage}
//             </div>
//           )}

//           {/* Error Message */}
//           {error && (
//             <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center gap-2">
//               <IoAlertCircle className="text-xl" />
//               {error}
//             </div>
//           )}
          
//           <div className="bg-white rounded-lg shadow-md p-6">
//             <div className="flex items-start justify-between mb-4">
//               <div className="flex-1">
//                 <h1 className="text-2xl font-bold text-gray-800 mb-2">{task?.title}</h1>
//                 <div className="flex items-center gap-2 flex-wrap">
//                   <span className={`text-xs px-3 py-1 rounded-full border ${getPriorityColor(task?.priority)}`}>
//                     {task?.priority} Priority
//                   </span>
//                   <span className={`text-xs px-3 py-1 rounded-full text-white ${getStatusColor(task?.status)}`}>
//                     {task?.status}
//                   </span>
//                   {isOverdue && (
//                     <span className="text-xs px-3 py-1 rounded-full bg-red-100 text-red-800 border border-red-300 flex items-center gap-1">
//                       <IoAlertCircle /> Overdue
//                     </span>
//                   )}
//                 </div>
//               </div>
//             </div>

//             {/* Status Update */}
//             <div className="mb-4">
//               <label className="block text-sm font-medium text-gray-700 mb-2">
//                 Update Status
//               </label>
//               <select
//                 value={task?.status}
//                 onChange={(e) => handleStatusChange(e.target.value)}
//                 disabled={updating}
//                 className="w-full md:max-w-xs px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"
//               >
//                 <option value="Pending">Pending</option>
//                 <option value="In Progress">In Progress</option>
//                 <option value="Completed">Completed</option>
//               </select>
//             </div>

//             {/* Description */}
//             <div className="mb-4">
//               <h3 className="text-sm font-semibold text-gray-700 mb-2">Description</h3>
//               <p className="text-gray-600 text-sm whitespace-pre-wrap">{task?.description}</p>
//             </div>

//             {/* Progress Bar */}
//             {totalTodos > 0 && (
//               <div className="mb-4">
//                 <div className="flex items-center justify-between mb-2">
//                   <h3 className="text-sm font-semibold text-gray-700">Progress</h3>
//                   <span className="text-sm font-semibold text-gray-700">{progress}%</span>
//                 </div>
//                 <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
//                   <div
//                     className={`h-full rounded-full transition-all duration-300 ${getStatusColor(task?.status)}`}
//                     style={{ width: `${progress}%` }}
//                   />
//                 </div>
//                 <p className="text-xs text-gray-500 mt-1 flex items-center gap-1">
//                   <IoCheckmarkCircle />
//                   {completedTodos} of {totalTodos} tasks completed
//                 </p>
//               </div>
//             )}

//             {/* Meta Information */}
//             <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 pb-4 border-b">
//               <div className="flex items-start gap-3">
//                 <IoCalendarOutline className="text-2xl text-gray-500 mt-1" />
//                 <div>
//                   <p className="text-sm font-medium text-gray-700">Due Date</p>
//                   <p className={`text-sm ${isOverdue ? 'text-red-600 font-semibold' : 'text-gray-600'}`}>
//                     {moment(task?.dueDate).format('MMMM DD, YYYY')}
//                   </p>
//                   <p className="text-xs text-gray-500">
//                     {moment(task?.dueDate).fromNow()}
//                   </p>
//                 </div>
//               </div>
//               <div className="flex items-start gap-3">
//                 <IoPersonOutline className="text-2xl text-gray-500 mt-1" />
//                 <div>
//                   <p className="text-sm font-medium text-gray-700">Assigned To</p>
//                   <p className="text-sm text-gray-600">
//                     {task?.assignedTo?.length || 0} team member{task?.assignedTo?.length !== 1 ? 's' : ''}
//                   </p>
//                 </div>
//               </div>
//             </div>

//             {/* Assigned Members */}
//             {task?.assignedTo && task.assignedTo.length > 0 && (
//               <div className="mb-4">
//                 <h3 className="text-sm font-semibold text-gray-700 mb-3">Team Members</h3>
//                 <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
//                   {task.assignedTo.map((member) => (
//                     <div key={member._id} className="flex items-center gap-3 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2">
//                       <img
//                         src={member.profileImageUrl || '/default-avatar.png'}
//                         alt={member.name}
//                         className="w-10 h-10 rounded-full object-cover"
//                       />
//                       <div className="flex-1 min-w-0">
//                         <p className="text-sm font-medium text-gray-800 truncate">{member.name}</p>
//                         <p className="text-xs text-gray-500 truncate">{member.email}</p>
//                       </div>
//                     </div>
//                   ))}
//                 </div>
//               </div>
//             )}

//             {/* Attachments */}
//             {task?.attachments && task.attachments.length > 0 && (
//               <div className="mb-4">
//                 <h3 className="text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2">
//                   <IoAttach /> Attachments ({task.attachments.length})
//                 </h3>
//                 <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
//                   {task.attachments.map((attachment, index) => (
//                     <div key={index} className="border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
//                       <img
//                         src={attachment}
//                         alt={`Attachment ${index + 1}`}
//                         className="w-full h-32 object-cover"
//                       />
//                       <a
//                         href={attachment}
//                         target="_blank"
//                         rel="noopener noreferrer"
//                         className="flex items-center justify-center gap-2 p-2 bg-gray-50 text-sm text-blue-600 hover:bg-blue-50 transition-colors"
//                       >
//                         <IoDownload /> Download
//                       </a>
//                     </div>
//                   ))}
//                 </div>
//               </div>
//             )}

//             {/* Todo Checklist */}
//             {task?.todoChecklist && task.todoChecklist.length > 0 && (
//               <div>
//                 <h3 className="text-sm font-semibold text-gray-700 mb-3">
//                   Todo Checklist
//                   {totalTodos > 0 && (
//                     <span className="ml-2 text-xs font-normal text-gray-500">
//                       ({completedTodos}/{totalTodos} completed)
//                     </span>
//                   )}
//                 </h3>
//                 <div className="space-y-2">
//                   {task.todoChecklist.map((item, index) => (
//                     <label
//                       key={index}
//                       className={`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${
//                         item.completed
//                           ? 'bg-green-50 border-green-200 hover:bg-green-100'
//                           : 'bg-white border-gray-200 hover:bg-gray-50'
//                       } ${updating ? 'opacity-50 cursor-not-allowed' : ''}`}
//                     >
//                       <input
//                         type="checkbox"
//                         checked={item.completed}
//                         onChange={() => handleTodoToggle(index)}
//                         disabled={updating}
//                         className="w-5 h-5 text-green-600 rounded focus:ring-green-500 cursor-pointer disabled:cursor-not-allowed"
//                       />
//                       <span
//                         className={`flex-1 text-sm ${
//                           item.completed ? 'line-through text-gray-500' : 'text-gray-700'
//                         }`}
//                       >
//                         {item.text}
//                       </span>
//                       {item.completed && (
//                         <IoCheckmarkCircle className="text-green-500 text-xl" />
//                       )}
//                     </label>
//                   ))}
//                 </div>
//               </div>
//             )}
//           </div>
//         </div>
//       </div>
//     </DashboardLayout>
//   );
// };

// export default ViewTaskDetails;

// import React, { useContext, useEffect, useState } from 'react';
// import DashboardLayout from '../../components/layouts/DashboardLayout';
// import { useUserAuth } from '../../hooks/useUserAuth';
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import moment from 'moment';
// import InfoCard from '../../components/Cards/InfoCard';
// import { addThousandsSeparator } from '../../utils/helper';
// import {
//   IoStatsChart,
//   IoListCircle,
//   IoHourglass,
//   IoCheckmarkCircle
// } from 'react-icons/io5';
// import { LuSquareArrowRight } from 'react-icons/lu';
// import { useNavigate } from 'react-router-dom';
// import TaskListTable from '../../components/TaskListTable';
// import CustomPieChart from '../../components/Charts/CustomPieChart';
// import CustomBarChart from '../../components/Charts/CustomBarChart';

// const COLORS = ["#3B82F6", "#F59E0B", "#06B6D4", "#10B981"];

// const UserDashboard = () => {
//   useUserAuth();
//   const navigate = useNavigate();
//   const { user } = useContext(UserContext);

//   const [dashboardData, setDashboardData] = useState(null);
//   const [pieChartData, setPieChartData] = useState([]);
//   const [barChartData, setBarChartData] = useState([]);
//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState(null);

//   const prepareChartData = (data) => {
//     const taskDistribution = data?.taskDistribution || {};
//     const taskPriorityLevels = data?.taskPriorityLevels || {};

//     const taskDistributionData = [
//       { status: "Pending", count: taskDistribution?.Pending || 0 },
//       { status: "In Progress", count: taskDistribution?.InProgress || 0 },
//       { status: "Completed", count: taskDistribution?.Completed || 0 },
//     ];

//     const priorityLevelData = [
//       { priority: "Low", count: taskPriorityLevels?.Low || 0 },
//       { priority: "Medium", count: taskPriorityLevels?.Medium || 0 },
//       { priority: "High", count: taskPriorityLevels?.High || 0 },
//     ];

//     setPieChartData(taskDistributionData);
//     setBarChartData(priorityLevelData);
//   };

//   const getDashboardData = async () => {
//     if (!user) return;

//     setLoading(true);
//     setError(null);

//     try {
//       const response = await axiosInstance.get(API_PATHS.TASKS.GET_USER_DASHBOARD_DATA);

//       if (response.data?.charts) {
//         setDashboardData(response.data);
//         prepareChartData(response.data?.charts);
//       }
//     } catch (error) {
//       console.error("Error fetching dashboard data:", error);
//       setError("Failed to load dashboard data");

//       setDashboardData({
//         charts: { taskDistribution: {}, taskPriorityLevels: {} },
//         recentTasks: []
//       });
//     } finally {
//       setLoading(false);
//     }
//   };

//   const onSeeMore = () => {
//     navigate('/user/tasks');
//   };

//   useEffect(() => {
//     if (user) {
//       getDashboardData();
//     }
//   }, [user]);

//   if (loading && !dashboardData) {
//     return (
//       <DashboardLayout activeMenu="Dashboard">
//         <div className="flex items-center justify-center h-64">
//           <p>Loading dashboard...</p>
//         </div>
//       </DashboardLayout>
//     );
//   }

//   return (
//     <DashboardLayout activeMenu="Dashboard">
//       <div className='card my-5'>
//         <div>
//           <div className='col-span-3'>
//             <h2 className='text-xl md:text-2xl'>
//               Good {moment().format('A') === 'AM' ? 'Morning' : 'Evening'}, {user?.name}
//             </h2>
//             <p className='text-xs md:text-xs text-gray-400 mt-1.5'>
//               {moment().format("dddd Do MMM YYYY")}
//             </p>
//           </div>
//         </div>

//         <div className='grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-6 mt-5'>
//           <InfoCard
//             icon={<IoStatsChart />}
//             label="My Tasks"
//             value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.All || 0)}
//             color="bg-blue-500"
//           />

//           <InfoCard
//             icon={<IoListCircle />}
//             label="Pending"
//             value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.Pending || 0)}
//             color="bg-yellow-500"
//           />

//           <InfoCard
//             icon={<IoHourglass />}
//             label="In Progress"
//             value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.InProgress || 0)}
//             color="bg-cyan-500"
//           />

//           <InfoCard
//             icon={<IoCheckmarkCircle />}
//             label="Completed"
//             value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.Completed || 0)}
//             color="bg-green-500"
//           />
//         </div>

//         <div className='grid grid-cols-1 md:grid-cols-2 gap-6 my-4 md:my-6'>
//           <div>
//             <div className='card'>
//               <div className='flex items-center justify-between'>
//                 <h5 className='font-medium'>Task Distribution</h5>
//               </div>
//               <CustomPieChart data={pieChartData} label="Total Balance" colors={COLORS} />
//             </div>
//           </div>

//           <div>
//             <div className='card'>
//               <div className='flex items-center justify-between'>
//                 <h5 className='font-medium'>Task Priority Levels</h5>
//               </div>
//               <CustomBarChart data={barChartData} />
//             </div>
//           </div>

//           <div className='md:col-span-2'>
//             <div className='card'>
//               <div className='flex items-center justify-between'>
//                 <h5>Recent Tasks</h5>
//               </div>
//               <button className='card-btn' onClick={onSeeMore}>
//                 See All <LuSquareArrowRight className='text-base' />
//               </button>
//             </div>

//             <TaskListTable tableData={dashboardData?.recentTasks || []} />
//           </div>
//         </div>
//       </div>
//     </DashboardLayout>
//   );
// };

// export default UserDashboard;

// import React, { useContext, useEffect, useState } from 'react';
// import DashboardLayout from '../../components/layouts/DashboardLayout';
// import { useUserAuth } from '../../hooks/useUserAuth';
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import { useNavigate } from 'react-router-dom';
// import { IoFilter, IoEye } from 'react-icons/io5';
// import { STATUS_DATA } from '../../utils/data';
// import {
//   IoStatsChart,
//   IoListCircle,
//   IoHourglass,
//   IoCheckmarkCircle
// } from 'react-icons/io5';
// import { addThousandsSeparator } from '../../utils/helper';
// import TaskCard from '../../components/Cards/TaskCard';
// import InfoCard from "../../components/Cards/InfoCard";

// const MyTasks = () => {
//   useUserAuth();
//   const navigate = useNavigate();
//   const { user } = useContext(UserContext);

//   const [tasks, setTasks] = useState([]);
//   const [filteredTasks, setFilteredTasks] = useState([]);
//   const [statusFilter, setStatusFilter] = useState('');
//   const [loading, setLoading] = useState(false);
//   const [statusSummary, setStatusSummary] = useState({
//     all: 0,
//     pendingTasks: 0,
//     inProgressTasks: 0,
//     completedTasks: 0
//   });

//   const fetchTasks = async (status = '') => {
//     setLoading(true);
//     try {
//       const url = status
//         ? `${API_PATHS.TASKS.GET_ALL_TASKS}?status=${status}`
//         : API_PATHS.TASKS.GET_ALL_TASKS;

//       const response = await axiosInstance.get(url);

//       setTasks(response.data.tasks || []);
//       setFilteredTasks(response.data.tasks || []);
//       setStatusSummary(response.data.statusSummary || statusSummary);
//     } catch (error) {
//       console.error('Error fetching tasks:', error);
//     } finally {
//       setLoading(false);
//     }
//   };

//   useEffect(() => {
//     if (user) {
//       fetchTasks();
//     }
//   }, [user]);

//   const handleFilterChange = (status) => {
//     setStatusFilter(status);
//     fetchTasks(status);
//   };

//   const handleViewTask = (taskId) => {
//     navigate(`/user/tasks/${taskId}`);
//   };

//   return (
//     <DashboardLayout activeMenu="Manage Tasks">
//       <div className="card my-5">
//         <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
//           <div>
//             <h2 className="text-2xl font-semibold">My Tasks</h2>
//             <p className="text-sm text-gray-500 mt-1">
//               View and manage your assigned tasks
//             </p>
//           </div>
//         </div>

//         {/* Status Summary Cards */}
//         <div className="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6">
//           <InfoCard
//             icon={<IoStatsChart />}
//             label="Total Tasks"
//             value={addThousandsSeparator(statusSummary.all)}
//             color="bg-blue-500"
//           />
//           <InfoCard
//             icon={<IoListCircle />}
//             label="Pending"
//             value={addThousandsSeparator(statusSummary.pendingTasks)}
//             color="bg-yellow-500"
//           />
//           <InfoCard
//             icon={<IoHourglass />}
//             label="In Progress"
//             value={addThousandsSeparator(statusSummary.inProgressTasks)}
//             color="bg-cyan-500"
//           />
//           <InfoCard
//             icon={<IoCheckmarkCircle />}
//             label="Completed"
//             value={addThousandsSeparator(statusSummary.completedTasks)}
//             color="bg-green-500"
//           />
//         </div>

//         {/* Filter Section */}
//         <div className="flex items-center gap-3 mb-4">
//           <IoFilter className="text-gray-500 text-xl" />
//           <span className="text-sm font-medium text-gray-700">Filter by Status:</span>
//           <select
//             value={statusFilter}
//             onChange={(e) => handleFilterChange(e.target.value)}
//             className="input-field max-w-xs"
//           >
//             <option value="">All Tasks</option>
//             {STATUS_DATA.map((status) => (
//               <option key={status.value} value={status.value}>
//                 {status.label}
//               </option>
//             ))}
//           </select>
//         </div>

//         {/* Tasks Grid */}
//         {loading ? (
//           <div className="flex justify-center items-center h-64">
//             <div className="text-center">
//               <div className="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
//               <p className="text-gray-500 mt-2">Loading tasks...</p>
//             </div>
//           </div>
//         ) : filteredTasks.length === 0 ? (
//           <div className="text-center py-12">
//             <div className="text-6xl text-gray-300 mb-4">ðŸ“‹</div>
//             <p className="text-gray-500 text-lg">No tasks found</p>
//             <p className="text-gray-400 text-sm mt-2">
//               {statusFilter ? 'Try changing the filter' : 'You have no tasks assigned yet'}
//             </p>
//           </div>
//         ) : (
//           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
//             {filteredTasks.map((task) => (
//               <TaskCard
//                 key={task._id}
//                 task={task}
//                 onClick={() => handleViewTask(task._id)}
//               />
//             ))}
//           </div>
//         )}
//       </div>
//     </DashboardLayout>
//   );
// };

// export default MyTasks;

// import React, { useContext, useState } from 'react'
// import AuthLayout from '../../components/layouts/AuthLayout'
// import { validateEmail } from '../../utils/helper';
// import ProfilePhotoSelector from '../../components/Inputs/ProfilePhotoSelector';
// import Input from '../../components/Inputs/Input';
// import { Link, useNavigate } from 'react-router-dom';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import uploadImage from "../../utils/uploadImage"
// import { UserContext } from '../../context/userContext';

// const Signup = () => {

//   const [profilePic, setProfilePic] = useState(null);
//   const [fullName, setFullName] = useState("");
//   const [email, setEmail] = useState("");
//   const [password, setPassword] = useState("");
//   const [adminInviteToken, setAdminInviteToken] = useState("");
//   const { updateUser } = useContext(UserContext);

//   const [loading, setLoading] = useState(false);

//   const navigate = useNavigate();


//   const [error, setError] = useState(null);

//   const handleSignup = async (e) => {
//     e.preventDefault();

//     let profileImageUrl = "";

//     if (!fullName) {
//       setError("Please enter Full Name.")
//       return;
//     }

//     if (!validateEmail(email)) {
//       setError("Please enter a valid email address.")
//       return;
//     }

//     if (!password) {
//       setError("Please enter the password");
//       return;
//     }

//     setError("");

//     setLoading(true);

//     try {

//       //upload
//       if (profilePic) {
//         const imgUploadRes = await uploadImage(profilePic);
//         profileImageUrl = imgUploadRes.imageUrl || "";
//       }


//       try {
//         const response = await axiosInstance.post(API_PATHS.AUTH.REGISTER, {
//           name: fullName,
//           email,
//           password,
//           profileImageUrl,
//           adminInviteToken
//         });
//         const { token, role } = response.data;

//         if (token) {
//           localStorage.setItem("token", token);
//           updateUser(response.data)

//           // redirected based on the role
//           navigate("/login");
//         }
//       } catch (error) {
//         if (error.response && error.response.data.message) {
//           setError(error.response.data.message);
//         } else {
//           setError("Something went wrong. Please try again")
//         }
//       }
//     } catch (error) {
//       if (error.response && error.response.data.message) {
//         setError(error.response.data.message);
//       } else {
//         setError("Something went wrong. Please try again")
//       }
//     } finally {
//       setLoading(false);
//     }

//   }

//   return (
//     <AuthLayout>
//       <div className='lg:w-full h-auto md:h-full mt-10 md:mt-0 flex flex-col justify-center'>
//         <h3 className='font-semibold text-black font-stack text-4xl'>Create an Account</h3>
//         <p className='text-sm text-slate-700 mt-[3px] mb-6 font-stack'>
//           Join us today by entering your details below.
//         </p>

//         <form onSubmit={handleSignup}>
//           <ProfilePhotoSelector image={profilePic} setImage={setProfilePic} />

//           <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>
//             <Input
//               value={fullName}
//               onChange={({ target }) => setFullName(target.value)}
//               label="Full name"
//               placeholder="jhon"
//               type="text"
//             />
//             <Input
//               value={email}
//               onChange={({ target }) => setEmail(target.value)}
//               label="Email"
//               placeholder="deekay@gmail.com"
//               type="text"
//             />

//             <Input
//               value={password}
//               onChange={({ target }) => setPassword(target.value)}
//               label="Password"
//               placeholder="Min 8 Characters"
//               type="password"
//             />

//             <Input
//               value={adminInviteToken}
//               onChange={({ target }) => setAdminInviteToken(target.value)}
//               label="Admin invite token"
//               placeholder="6 Digit Code"
//               type="text"
//             />

//           </div>

//           {error && <p className='text-red-500 text-xs pb-2.5'>{error}</p>}

//           <button
//             type='submit'
//             className='btn-primary'
//             disabled={loading}
//           >
//             {loading ? (
//               <div className="flex items-center justify-center">
//                 <div className="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div>
//                 SIGNING UP...
//               </div>
//             ) : (
//               "SIGN UP"
//             )}
//           </button>

//           <p className='text-[13px] text-slate-800 mt-3 font-stack'>
//             Already an account?{" "}
//             <Link className='font-medium text-blue-600 text-sm underline font-stack' to='/login'>
//               Login
//             </Link>
//           </p>

//         </form>


//       </div>
//     </AuthLayout>
//   )
// }

// export default Signup

// import React, { useContext, useState } from 'react'
// import AuthLayout from '../../components/layouts/AuthLayout'
// import { Link, useNavigate } from 'react-router-dom';
// import { validateEmail } from '../../utils/helper';
// import Input from '../../components/Inputs/Input';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import { UserContext } from '../../context/userContext';

// const Login = () => {

//     const [email, setEmail] = useState("");
//     const [password, setPassword] = useState("");
//     const [error, setError] = useState("");
//     const { updateUser } = useContext(UserContext);
//     const [loading, setLoading] = useState(false);

//     const navigate = useNavigate();

//     // Handle Login Form sumbit
//     const handleLogin = async (e) => {
//         e.preventDefault();

//         if (!validateEmail(email)) {
//             setError("Please enter a valid email address.")
//             return;
//         }

//         if (!password) {
//             setError("Please enter the password");
//             return;
//         }

//         setError("")

//         setLoading(true);

//         try {
//             const response = await axiosInstance.post(API_PATHS.AUTH.LOGIN, { email, password });

//             const { token, role } = response.data;

//             console.log("role", role)

//             if (token) {
//                 localStorage.setItem("token", token);
//                 updateUser(response.data)

//                 // redirected based on the role
//                 if (role === "admin") {
//                     navigate("/admin/dashboard");
//                 } else {
//                     console.log("hi")
//                     navigate("/user/dashboard");
//                 }
//             }
//         }
//         catch (error) {
//             if (error.response && error.response.data.message) {
//                 setError(error.response.data.message);
//             } else {
//                 setError("Something went wrong. Please try again")
//             }
//         } finally {
//             setLoading(false);
//         }

//     }

//     return <AuthLayout>
//         <div className='lg:w-[70%] h-3/4 md:h-full flex flex-col justify-center'>
//             <h3 className='text-4xl font-stack text-black'>
//                 Welcome Back
//             </h3>
//             <p className='text-sm text-slate-700 font-stack mt-[3px] mb-6'>
//                 Please enter your details to log in
//             </p>

//             <form onSubmit={handleLogin} >
//                 <Input
//                     value={email}
//                     onChange={({ target }) => setEmail(target.value)}
//                     label="Email Address"
//                     placeholder="deekay@gmail.com"
//                     type="text"
//                 />

//                 <Input
//                     value={password}
//                     onChange={({ target }) => setPassword(target.value)}
//                     label="Password"
//                     placeholder="nsihgke@koe"
//                     type="password"
//                 />

//                 {error && <p className='text-red-500 text-xs pb-2.5'>{error}</p>}

//                 <button
//                     className='btn-primary'
//                     type='submit'
//                     disabled={loading} 
//                 >
//                     {loading ? (
//                         <div className="flex items-center justify-center">
//                             <div className="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div>
//                             LOGGING IN...
//                         </div>
//                     ) : (
//                         "LOGIN"
//                     )}
//                 </button>

//                 <p className='text-[13px] text-slate-800 mt-3 font-stack'>
//                     Don't have an account?{" "}
//                     <Link className='font-medium text-blue-600 text-sm underline font-stack' to='/signup'>
//                         Signup
//                     </Link>
//                 </p>

//             </form>

//         </div>
//     </AuthLayout>

// }

// export default Login

// import React, { useContext, useEffect, useState } from 'react';
// import DashboardLayout from '../../components/layouts/DashboardLayout';
// import { useUserAuth } from '../../hooks/useUserAuth';
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import { IoAddCircle, IoDownload, IoPencil, IoTrash, IoClose } from 'react-icons/io5';
// import { addThousandsSeparator } from '../../utils/helper';

// const ManageUsers = () => {
//   useUserAuth();
//   const { user } = useContext(UserContext);

//   const [users, setUsers] = useState([]);
//   const [loading, setLoading] = useState(false);
//   const [showModal, setShowModal] = useState(false);
//   const [editingUser, setEditingUser] = useState(null);
//   const [formData, setFormData] = useState({
//     name: '',
//     email: '',
//     password: '',
//     role: 'member'
//   });

//   useEffect(() => {
//     if (user) {
//       fetchUsers();
//     }
//   }, [user]);

//   const fetchUsers = async () => {
//     setLoading(true);
//     try {
//       const response = await axiosInstance.get(API_PATHS.USERS.GET_ALL_USERS);
//       console.log('âœ… Users fetched:', response.data);
//       setUsers(response.data || []);
//     } catch (error) {
//       console.error(' Error fetching users:', error);
//       alert('Failed to load users');
//     } finally {
//       setLoading(false);
//     }
//   };

//   const handleExportUsers = async () => {
//     try {
//       const response = await axiosInstance.get(API_PATHS.REPORTS.EXPORT_USERS, {
//         responseType: 'blob'
//       });

//       const url = window.URL.createObjectURL(new Blob([response.data]));
//       const link = document.createElement('a');
//       link.href = url;
//       link.setAttribute('download', 'users_report.xlsx');
//       document.body.appendChild(link);
//       link.click();
//       link.remove();
//       window.URL.revokeObjectURL(url);
//     } catch (error) {
//       console.error(' Error exporting users:', error);
//       alert('Failed to export users');
//     }
//   };

//   const handleOpenModal = (userToEdit = null) => {
//     if (userToEdit) {
//       setEditingUser(userToEdit);
//       setFormData({
//         name: userToEdit.name,
//         email: userToEdit.email,
//         password: '',
//         role: userToEdit.role
//       });
//     } else {
//       setEditingUser(null);
//       setFormData({
//         name: '',
//         email: '',
//         password: '',
//         role: 'member'
//       });
//     }
//     setShowModal(true);
//   };

//   const handleCloseModal = () => {
//     setShowModal(false);
//     setEditingUser(null);
//     setFormData({
//       name: '',
//       email: '',
//       password: '',
//       role: 'member'
//     });
//   };

//   const handleInputChange = (e) => {
//     const { name, value } = e.target;
//     setFormData(prev => ({
//       ...prev,
//       [name]: value
//     }));
//   };

//   const handleSubmit = async (e) => {
//     e.preventDefault();

//     if (!formData.name || !formData.email) {
//       alert('Name and email are required');
//       return;
//     }

//     if (!editingUser && !formData.password) {
//       alert('Password is required for new users');
//       return;
//     }

//     try {
//       if (editingUser) {
//         // Update user
//         const updateData = {
//           name: formData.name,
//           email: formData.email,
//           role: formData.role
//         };

//         await axiosInstance.put(
//           API_PATHS.USERS.UPDATE_USER(editingUser._id),
//           updateData
//         );
//         alert('User updated successfully');
//       } else {
//         // Create user
//         await axiosInstance.post(API_PATHS.USERS.CREATE_USER, formData);
//         alert('User created successfully');
//       }

//       handleCloseModal();
//       fetchUsers();
//     } catch (error) {
//       console.error(' Error saving user:', error);
//       alert(error.response?.data?.message || 'Failed to save user');
//     }
//   };

//   const handleDeleteUser = async (userId) => {
//     if (!window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) return;

//     try {
//       await axiosInstance.delete(API_PATHS.USERS.DELETE_USER(userId));
//       alert('User deleted successfully');
//       fetchUsers();
//     } catch (error) {
//       console.error(' Error deleting user:', error);
//       alert('Failed to delete user');
//     }
//   };

//   return (
//     <DashboardLayout activeMenu="Team Members">
//       <div className="my-5">
//         <div className="bg-white rounded-lg shadow-md p-6">
//           <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
//             <div>
//               <h2 className="text-2xl font-semibold text-gray-800">Team Members</h2>
//               <p className="text-sm text-gray-500 mt-1">
//                 Manage your team members and their roles
//               </p>
//             </div>

//             <div className="flex gap-3">
//               <button
//                 onClick={handleExportUsers}
//                 className="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium flex items-center gap-2"
//               >
//                 <IoDownload /> Export
//               </button>
//               <button
//                 onClick={() => handleOpenModal()}
//                 className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2"
//               >
//                 <IoAddCircle /> Add Member
//               </button>
//             </div>
//           </div>

//           {/* Users Table */}
//           {loading ? (
//             <div className="flex justify-center items-center h-64">
//               <div className="text-center">
//                 <div className="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
//                 <p className="text-gray-500 mt-2">Loading users...</p>
//               </div>
//             </div>
//           ) : (
//             <div className="overflow-x-auto">
//               <table className="w-full">
//                 <thead>
//                   <tr className="border-b bg-gray-50">
//                     <th className="text-left py-3 px-4 font-semibold text-gray-700">Name</th>
//                     <th className="text-left py-3 px-4 font-semibold text-gray-700">Email</th>
//                     <th className="text-left py-3 px-4 font-semibold text-gray-700">Role</th>
//                     <th className="text-center py-3 px-4 font-semibold text-gray-700">Pending</th>
//                     <th className="text-center py-3 px-4 font-semibold text-gray-700">In Progress</th>
//                     <th className="text-center py-3 px-4 font-semibold text-gray-700">Completed</th>
//                     <th className="text-center py-3 px-4 font-semibold text-gray-700">Actions</th>
//                   </tr>
//                 </thead>
//                 <tbody>
//                   {users.length === 0 ? (
//                     <tr>
//                       <td colSpan="7" className="text-center py-8 text-gray-500">
//                         No users found. Click "Add Member" to create your first user.
//                       </td>
//                     </tr>
//                   ) : (
//                     users.map((u) => (
//                       <tr key={u._id} className="border-b hover:bg-gray-50 transition-colors">
//                         <td className="py-3 px-4">
//                           <div className="flex items-center gap-3">
//                             <div className="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold">
//                               {u.name.charAt(0).toUpperCase()}
//                             </div>
//                             <span className="font-medium text-gray-800">{u.name}</span>
//                           </div>
//                         </td>
//                         <td className="py-3 px-4 text-gray-600">{u.email}</td>
//                         <td className="py-3 px-4">
//                           <span className={`px-3 py-1 rounded-full text-xs font-medium ${u.role === 'admin'
//                               ? 'bg-purple-100 text-purple-800'
//                               : 'bg-blue-100 text-blue-800'
//                             }`}>
//                             {u.role}
//                           </span>
//                         </td>
//                         <td className="py-3 px-4 text-center">
//                           <span className="inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-100 text-yellow-800 font-semibold text-sm">
//                             {addThousandsSeparator(u.pendingTask || 0)}
//                           </span>
//                         </td>
//                         <td className="py-3 px-4 text-center">
//                           <span className="inline-flex items-center justify-center w-8 h-8 rounded-full bg-cyan-100 text-cyan-800 font-semibold text-sm">
//                             {addThousandsSeparator(u.inProgressTasks || 0)}
//                           </span>
//                         </td>
//                         <td className="py-3 px-4 text-center">
//                           <span className="inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-800 font-semibold text-sm">
//                             {addThousandsSeparator(u.completedTasks || 0)}
//                           </span>
//                         </td>
//                         <td className="py-3 px-4">
//                           <div className="flex justify-center gap-2">
//                             <button
//                               onClick={() => handleOpenModal(u)}
//                               className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"
//                               title="Edit User"
//                             >
//                               <IoPencil size={18} />
//                             </button>
//                             <button
//                               onClick={() => handleDeleteUser(u._id)}
//                               className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"
//                               title="Delete User"
//                             >
//                               <IoTrash size={18} />
//                             </button>
//                           </div>
//                         </td>
//                       </tr>
//                     ))
//                   )}
//                 </tbody>
//               </table>
//             </div>
//           )}
//         </div>
//       </div>

//       {/* Modal */}
//       {showModal && (
//         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
//           <div className="bg-white rounded-lg p-6 w-full max-w-md shadow-xl">
//             <div className="flex items-center justify-between mb-4">
//               <h3 className="text-xl font-semibold text-gray-800">
//                 {editingUser ? 'Edit User' : 'Add New User'}
//               </h3>
//               <button
//                 onClick={handleCloseModal}
//                 className="text-gray-500 hover:text-gray-700 transition-colors"
//               >
//                 <IoClose size={24} />
//               </button>
//             </div>

//             <form onSubmit={handleSubmit}>
//               <div className="mb-4">
//                 <label className="block text-sm font-medium text-gray-700 mb-2">
//                   Name <span className="text-red-500">*</span>
//                 </label>
//                 <input
//                   type="text"
//                   name="name"
//                   value={formData.name}
//                   onChange={handleInputChange}
//                   className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                   placeholder="Enter full name"
//                   required
//                 />
//               </div>

//               <div className="mb-4">
//                 <label className="block text-sm font-medium text-gray-700 mb-2">
//                   Email <span className="text-red-500">*</span>
//                 </label>
//                 <input
//                   type="email"
//                   name="email"
//                   value={formData.email}
//                   onChange={handleInputChange}
//                   className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                   placeholder="email@example.com"
//                   required
//                 />
//               </div>

//               {!editingUser && (
//                 <div className="mb-4">
//                   <label className="block text-sm font-medium text-gray-700 mb-2">
//                     Password <span className="text-red-500">*</span>
//                   </label>
//                   <input
//                     type="password"
//                     name="password"
//                     value={formData.password}
//                     onChange={handleInputChange}
//                     className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                     placeholder="Enter password"
//                     required={!editingUser}
//                     minLength="6"
//                   />
//                   <p className="text-xs text-gray-500 mt-1">Minimum 6 characters</p>
//                 </div>
//               )}

//               <div className="mb-6">
//                 <label className="block text-sm font-medium text-gray-700 mb-2">
//                   Role <span className="text-red-500">*</span>
//                 </label>
//                 <select
//                   name="role"
//                   value={formData.role}
//                   onChange={handleInputChange}
//                   className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                 >
//                   <option value="member">Member</option>
//                   <option value="admin">Admin</option>
//                 </select>
//               </div>

//               <div className="flex gap-3">
//                 <button
//                   type="submit"
//                   className="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium"
//                 >
//                   {editingUser ? 'Update User' : 'Create User'}
//                 </button>
//                 <button
//                   type="button"
//                   onClick={handleCloseModal}
//                   className="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium"
//                 >
//                   Cancel
//                 </button>
//               </div>
//             </form>
//           </div>
//         </div>
//       )}
//     </DashboardLayout>
//   );
// };

// export default ManageUsers;

// import React, { useContext, useEffect, useState } from 'react';
// import DashboardLayout from '../../components/layouts/DashboardLayout';
// import { useUserAuth } from '../../hooks/useUserAuth';
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import { useNavigate } from 'react-router-dom';
// import { IoAddCircle, IoFilter, IoDownload } from 'react-icons/io5';
// import { STATUS_DATA } from '../../utils/data';
// import TaskListTable from '../../components/TaskListTable';
// import InfoCard from '../../components/Cards/InfoCard';
// import { 
//   IoStatsChart, 
//   IoListCircle, 
//   IoHourglass, 
//   IoCheckmarkCircle 
// } from 'react-icons/io5';
// import { addThousandsSeparator } from '../../utils/helper';

// const ManageTasks = () => {
//   useUserAuth();
//   const navigate = useNavigate();
//   const { user } = useContext(UserContext);

//   const [tasks, setTasks] = useState([]);
//   const [filteredTasks, setFilteredTasks] = useState([]);
//   const [statusFilter, setStatusFilter] = useState('');
//   const [loading, setLoading] = useState(false);
//   const [statusSummary, setStatusSummary] = useState({
//     all: 0,
//     pendingTasks: 0,
//     inProgressTasks: 0,
//     completedTasks: 0
//   });

//   const fetchTasks = async (status = '') => {
//     setLoading(true);
//     try {
//       const url = status 
//         ? `${API_PATHS.TASKS.GET_ALL_TASKS}?status=${status}` 
//         : API_PATHS.TASKS.GET_ALL_TASKS;
      
//       const response = await axiosInstance.get(url);
      
//       setTasks(response.data.tasks || []);
//       setFilteredTasks(response.data.tasks || []);
//       setStatusSummary(response.data.statusSummary || statusSummary);
//     } catch (error) {
//       console.error(' Error fetching tasks:', error);
//     } finally {
//       setLoading(false);
//     }
//   };

//   useEffect(() => {
//     if (user) {
//       fetchTasks(statusFilter);
//     }
//   }, [user]);

//   const handleFilterChange = (status) => {
//     setStatusFilter(status);
//     fetchTasks(status);
//   };

//   const handleExportTasks = async () => {
//     try {
//       const response = await axiosInstance.get(API_PATHS.REPORTS.EXPORT_TASKS, {
//         responseType: 'blob'
//       });
      
//       const url = window.URL.createObjectURL(new Blob([response.data]));
//       const link = document.createElement('a');
//       link.href = url;
//       link.setAttribute('download', 'tasks_report.xlsx');
//       document.body.appendChild(link);
//       link.click();
//       link.remove();
//     } catch (error) {
//       console.error(' Error exporting tasks:', error);
//       alert('Failed to export tasks');
//     }
//   };

//   const handleCreateTask = () => {
//     navigate('/admin/create-task');
//   };

//   const handleDeleteTask = async (taskId) => {
//     if (!window.confirm('Are you sure you want to delete this task?')) return;
    
//     try {
//       await axiosInstance.delete(API_PATHS.TASKS.DELETE_TASK(taskId));
//       fetchTasks(statusFilter);
//       alert('Task deleted successfully');
//     } catch (error) {
//       console.error(' Error deleting task:', error);
//       alert('Failed to delete task');
//     }
//   };

//   return (
//     <DashboardLayout activeMenu="Manage Tasks">
//       <div className="card my-5">
//         <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
//           <div>
//             <h2 className="text-2xl font-semibold">Manage Tasks</h2>
//             <p className="text-sm text-gray-500 mt-1">
//               View, filter, and manage all tasks
//             </p>
//           </div>
          
//           <div className="flex gap-3">
//             {user?.role === 'admin' && (
//               <>
//                 <button
//                   onClick={handleExportTasks}
//                   className="btn-secondary flex items-center gap-2"
//                 >
//                   <IoDownload /> Export
//                 </button>
//                 <button
//                   onClick={handleCreateTask}
//                   className="btn-primary flex items-center gap-2"
//                 >
//                   <IoAddCircle /> Create Task
//                 </button>
//               </>
//             )}
//           </div>
//         </div>

//         {/* Status Summary Cards */}
//         <div className="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6">
//           <InfoCard
//             icon={<IoStatsChart />}
//             label="Total Tasks"
//             value={addThousandsSeparator(statusSummary.all)}
//             color="bg-blue-500"
//           />
//           <InfoCard
//             icon={<IoListCircle />}
//             label="Pending"
//             value={addThousandsSeparator(statusSummary.pendingTasks)}
//             color="bg-yellow-500"
//           />
//           <InfoCard
//             icon={<IoHourglass />}
//             label="In Progress"
//             value={addThousandsSeparator(statusSummary.inProgressTasks)}
//             color="bg-cyan-500"
//           />
//           <InfoCard
//             icon={<IoCheckmarkCircle />}
//             label="Completed"
//             value={addThousandsSeparator(statusSummary.completedTasks)}
//             color="bg-green-500"
//           />
//         </div>

//         {/* Filter Section */}
//         <div className="flex items-center gap-3 mb-4">
//           <IoFilter className="text-gray-500 text-xl" />
//           <span className="text-sm font-medium text-gray-700">Filter by Status:</span>
//           <select
//             value={statusFilter}
//             onChange={(e) => handleFilterChange(e.target.value)}
//             className="input-field max-w-xs"
//           >
//             <option value="">All Tasks</option>
//             {STATUS_DATA.map((status) => (
//               <option key={status.value} value={status.value}>
//                 {status.label}
//               </option>
//             ))}
//           </select>
//         </div>

//         {/* Tasks Table */}
//         {loading ? (
//           <div className="flex justify-center items-center h-64">
//             <p className="text-gray-500">Loading tasks...</p>
//           </div>
//         ) : (
//           <TaskListTable 
//             tableData={filteredTasks} 
//             onDelete={user?.role === 'admin' ? handleDeleteTask : undefined}
//             showActions={true}
//           />
//         )}
//       </div>
//     </DashboardLayout>
//   );
// };

// export default ManageTasks;

// import React, { useContext, useEffect, useState } from 'react'
// import DashboardLayout from '../../components/layouts/DashboardLayout'
// import { useUserAuth } from '../../hooks/useUserAuth'
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import moment from "moment"
// import { IoMdCard } from "react-icons/io";
// import InfoCard from '../../components/Cards/InfoCard';
// import { addThousandsSeparator } from '../../utils/helper';
// import {
//   IoStatsChart,
//   IoListCircle,
//   IoHourglass,
//   IoCheckmarkCircle
// } from "react-icons/io5";
// import { LuAArrowDown, LuSquareArrowRight } from 'react-icons/lu';
// import { useNavigate } from 'react-router-dom';
// import TaskListTable from '../../components/TaskListTable';
// import CustomPieChart from '../../components/Charts/CustomPieChart';
// import CustomBarChart from '../../components/Charts/CustomBarChart';

// const COLORS = ["#3B82F6", "#F59E0B", "#06B6D4", "#10B981"];
// const Dashboard = () => {
//   useUserAuth();
//   const navigate = useNavigate();
//   const { user } = useContext(UserContext);

//   const [dashboardData, setDashboardData] = useState(null);
//   const [pieChartData, setPieChartData] = useState([]);
//   const [barChartData, setBarChartData] = useState([]);
//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState(null);

//   const prepareChartData = (data) => {
//     const taskDistribution = data?.taskDistribution || {};
//     const taskPriorityLevels = data?.taskPrioritiesLevels || {}; // âœ… Fixed typo

//     const taskDistributionData = [
//       { status: "Pending", count: taskDistribution?.Pending || 0 },
//       { status: "In Progress", count: taskDistribution?.InProgress || 0 },
//       { status: "Completed", count: taskDistribution?.Completed || 0 },
//     ];

//     const priorityLevelData = [
//       { priority: "Low", count: taskPriorityLevels?.Low || 0 },
//       { priority: "Medium", count: taskPriorityLevels?.Medium || 0 },
//       { priority: "High", count: taskPriorityLevels?.High || 0 },
//     ];

//     setPieChartData(taskDistributionData);
//     setBarChartData(priorityLevelData);
//   };

//   const getDashboardData = async () => {
//     if (!user) return; 

//     setLoading(true);
//     setError(null);

//     try {
//       const response = await axiosInstance.get(API_PATHS.TASKS.GET_DASHBOARD_DATA);

//       if (response.data?.charts) {
//         setDashboardData(response.data);
//         prepareChartData(response.data?.charts);
//       }
//     } catch (error) {
//       console.error("Error fetching dashboard data:", error);
//       setError("Failed to load dashboard data");

//       // Set default empty data
//       setDashboardData({
//         charts: { taskDistribution: {}, taskPrioritiesLevels: {} },
//         recentTasks: []
//       });
//     } finally {
//       setLoading(false);
//     }
//   };

//   const onSeeMore = () => {

//   }

//   useEffect(() => {
//     console.log(localStorage.getItem('token'))
//     if (user) {
//       getDashboardData();
//     }
//   }, [user]); 

//   if (loading && !dashboardData) {
//     return <DashboardLayout activeMenu="Dashboard">
//       <div className="flex items-center justify-center h-64">
//         <p>Loading dashboard...</p>
//       </div>
//     </DashboardLayout>;
//   }

//   return (<DashboardLayout activeMenu="Dashboard">
//     <div className='card my-5'>
//       <div>
//         <div className='col-span-3'>
//           <h2 className='text-xl md:text-2xl'>
//             Good Morning
//           </h2>
//           <p className='text-xs md:text-xs text-gray-400 mt-1.5'>
//             {moment().format("dddd  Do  MMM  YYYY")}
//           </p>
//         </div>
//       </div>


//       <div className='grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-6 mt-5'>
//         <InfoCard
//           icon={<IoStatsChart />}
//           label="Total Tasks"
//           value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.All || 0)}
//           color="bg-blue-500"
//         />

//         <InfoCard
//           icon={<IoListCircle />}
//           label="Pending"
//           value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.Pending || 0)}
//           color="bg-yellow-500"
//         />

//         <InfoCard
//           icon={<IoHourglass />}
//           label="In Progress"
//           value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.InProgress || 0)}
//           color="bg-cyan-500"
//         />

//         <InfoCard
//           icon={<IoCheckmarkCircle />}
//           label="Completed"
//           value={addThousandsSeparator(dashboardData?.charts?.taskDistribution?.Completed || 0)}
//           color="bg-green-500"
//         />
//       </div>

//       <div className='grid grid-cols-1 md:grid-cols-2 gap-6 my-4 md:my-6'>

//         <div>
//           <div className='card'>
//             <div className='flex items-center justify-between'>
//               <h5 className='font-medium'>Task Distribution</h5>
//             </div>
//             <CustomPieChart data={pieChartData}
//               label="Total Balance"
//               colors={COLORS}
//             />
//           </div>
//         </div>

//         <div>
//           <div className='card'>
//             <div className='flex items-center justify-between'>
//               <h5 className='font-medium'>Task Priority Levels</h5>
//             </div>
//             <CustomBarChart data={barChartData}
//             />
//           </div>
//         </div>

//         <div className='md:col-span-2'>
//           <div className='card'>
//             <div className='flex items-center justify-between'>
//               <h5>Recent Tasks</h5>
//             </div>
//             <button className='card-btn' onClick={onSeeMore}>
//               Sell All <LuSquareArrowRight className='text-base' />
//             </button>
//           </div>

//           <TaskListTable tableData={dashboardData?.recentTasks || []} />
//         </div>
//       </div>

//     </div>
//   </DashboardLayout>)
// }

// export default Dashboard

// import React, { useContext, useEffect, useState } from 'react';
// import DashboardLayout from '../../components/layouts/DashboardLayout';
// import { useUserAuth } from '../../hooks/useUserAuth';
// import { UserContext } from '../../context/userContext';
// import axiosInstance from '../../utils/axiosinstance';
// import { API_PATHS } from '../../utils/apiPaths';
// import { useNavigate } from 'react-router-dom';
// import { PRIORITY_DATA } from '../../utils/data';
// import { IoAddCircle, IoTrash } from 'react-icons/io5';

// const CreateTask = () => {
//   useUserAuth();
//   const navigate = useNavigate();
//   const { user } = useContext(UserContext);

//   const [formData, setFormData] = useState({
//     title: '',
//     description: '',
//     priority: 'Medium',
//     dueDate: '',
//     assignedTo: [],
//     todoChecklist: []
//   });

//   const [users, setUsers] = useState([]);
//   const [newTodoItem, setNewTodoItem] = useState('');
//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState('');

//   useEffect(() => {
//     fetchUsers();
//   }, []);

//   const fetchUsers = async () => {
//     try {
//       const response = await axiosInstance.get(API_PATHS.USERS.GET_ALL_USERS);
//       setUsers(response.data || []);
//     } catch (error) {
//       console.error(' Error fetching users:', error);
//     }
//   };

//   const handleInputChange = (e) => {
//     const { name, value } = e.target;
//     setFormData(prev => ({
//       ...prev,
//       [name]: value
//     }));
//   };

//   const handleUserSelect = (userId) => {
//     setFormData(prev => ({
//       ...prev,
//       assignedTo: prev.assignedTo.includes(userId)
//         ? prev.assignedTo.filter(id => id !== userId)
//         : [...prev.assignedTo, userId]
//     }));
//   };

//   const handleAddTodoItem = () => {
//     if (!newTodoItem.trim()) return;
    
//     setFormData(prev => ({
//       ...prev,
//       todoChecklist: [
//         ...prev.todoChecklist,
//         { text: newTodoItem, completed: false }
//       ]
//     }));
//     setNewTodoItem('');
//   };

//   const handleRemoveTodoItem = (index) => {
//     setFormData(prev => ({
//       ...prev,
//       todoChecklist: prev.todoChecklist.filter((_, i) => i !== index)
//     }));
//   };

//   const handleSubmit = async (e) => {
//     e.preventDefault();
//     setError('');

//     // Validation
//     if (!formData.title.trim()) {
//       setError('Title is required');
//       return;
//     }
//     if (!formData.description.trim()) {
//       setError('Description is required');
//       return;
//     }
//     if (!formData.dueDate) {
//       setError('Due date is required');
//       return;
//     }
//     if (formData.assignedTo.length === 0) {
//       setError('Please assign at least one user');
//       return;
//     }

//     setLoading(true);
//     try {
//       await axiosInstance.post(API_PATHS.TASKS.CREATE_TASK, formData);
//       alert('Task created successfully!');
//       navigate('/admin/tasks');
//     } catch (error) {
//       console.error(' Error creating task:', error);
//       setError(error.response?.data?.message || 'Failed to create task');
//     } finally {
//       setLoading(false);
//     }
//   };

//   return (
//     <DashboardLayout activeMenu="Create Task">
//       <div className="my-5 max-w-4xl mx-auto">
//         <div className="bg-white rounded-lg shadow-md p-6">
//           <div className="mb-6">
//             <h2 className="text-2xl font-semibold">Create New Task</h2>
//             <p className="text-sm text-gray-500 mt-1">
//               Fill in the details to create a new task
//             </p>
//           </div>

//           {error && (
//             <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
//               {error}
//             </div>
//           )}

//           <form onSubmit={handleSubmit}>
//             {/* Title */}
//             <div className="mb-4">
//               <label className="block text-sm font-medium text-gray-700 mb-2">
//                 Task Title <span className="text-red-500">*</span>
//               </label>
//               <input
//                 type="text"
//                 name="title"
//                 value={formData.title}
//                 onChange={handleInputChange}
//                 placeholder="Enter task title"
//                 className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                 required
//               />
//             </div>

//             {/* Description */}
//             <div className="mb-4">
//               <label className="block text-sm font-medium text-gray-700 mb-2">
//                 Description <span className="text-red-500">*</span>
//               </label>
//               <textarea
//                 name="description"
//                 value={formData.description}
//                 onChange={handleInputChange}
//                 placeholder="Enter task description"
//                 rows="6"
//                 className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
//                 required
//               />
//             </div>

//             {/* Priority & Due Date */}
//             <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
//               <div>
//                 <label className="block text-sm font-medium text-gray-700 mb-2">
//                   Priority <span className="text-red-500">*</span>
//                 </label>
//                 <select
//                   name="priority"
//                   value={formData.priority}
//                   onChange={handleInputChange}
//                   className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                 >
//                   {PRIORITY_DATA.map((priority) => (
//                     <option key={priority.value} value={priority.value}>
//                       {priority.label}
//                     </option>
//                   ))}
//                 </select>
//               </div>

//               <div>
//                 <label className="block text-sm font-medium text-gray-700 mb-2">
//                   Due Date <span className="text-red-500">*</span>
//                 </label>
//                 <input
//                   type="date"
//                   name="dueDate"
//                   value={formData.dueDate}
//                   onChange={handleInputChange}
//                   className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                   required
//                 />
//                 {formData.dueDate && (
//                   <p className="text-xs text-gray-500 mt-1">
//                     Selected: {new Date(formData.dueDate).toLocaleDateString('en-US', { 
//                       year: 'numeric', 
//                       month: 'long', 
//                       day: 'numeric' 
//                     })}
//                   </p>
//                 )}
//               </div>
//             </div>

//             {/* Assign Users */}
//             <div className="mb-4">
//               <label className="block text-sm font-medium text-gray-700 mb-2">
//                 Assign To <span className="text-red-500">*</span>
//               </label>
//               <div className="border rounded-lg p-4 max-h-48 overflow-y-auto bg-gray-50">
//                 {users.length === 0 ? (
//                   <p className="text-gray-500 text-sm">No users available</p>
//                 ) : (
//                   users.map((u) => (
//                     <label key={u._id} className="flex items-center gap-2 mb-2 cursor-pointer hover:bg-white p-2 rounded transition">
//                       <input
//                         type="checkbox"
//                         checked={formData.assignedTo.includes(u._id)}
//                         onChange={() => handleUserSelect(u._id)}
//                         className="w-4 h-4 text-blue-600 focus:ring-blue-500 cursor-pointer"
//                       />
//                       <span className="text-sm">{u.name} <span className="text-gray-500">({u.email})</span></span>
//                     </label>
//                   ))
//                 )}
//               </div>
//               {formData.assignedTo.length > 0 && (
//                 <p className="text-xs text-green-600 mt-1">
//                   âœ“ {formData.assignedTo.length} user{formData.assignedTo.length > 1 ? 's' : ''} selected
//                 </p>
//               )}
//             </div>

//             {/* Todo Checklist */}
//             <div className="mb-6">
//               <label className="block text-sm font-medium text-gray-700 mb-2">
//                 Todo Checklist <span className="text-gray-400 text-xs">(Optional)</span>
//               </label>
              
//               <div className="flex gap-2 mb-3">
//                 <input
//                   type="text"
//                   value={newTodoItem}
//                   onChange={(e) => setNewTodoItem(e.target.value)}
//                   placeholder="Add a checklist item"
//                   className="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                   onKeyPress={(e) => {
//                     if (e.key === 'Enter') {
//                       e.preventDefault();
//                       handleAddTodoItem();
//                     }
//                   }}
//                 />
//                 <button
//                   type="button"
//                   onClick={handleAddTodoItem}
//                   className="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium flex items-center gap-2"
//                 >
//                   <IoAddCircle /> Add
//                 </button>
//               </div>

//               {formData.todoChecklist.length > 0 && (
//                 <div className="border rounded-lg p-4 bg-gray-50">
//                   <p className="text-xs text-gray-600 mb-2 font-medium">
//                     {formData.todoChecklist.length} item{formData.todoChecklist.length > 1 ? 's' : ''} in checklist
//                   </p>
//                   {formData.todoChecklist.map((item, index) => (
//                     <div key={index} className="flex items-center justify-between mb-2 p-2 bg-white rounded shadow-sm">
//                       <span className="text-sm flex-1">{item.text}</span>
//                       <button
//                         type="button"
//                         onClick={() => handleRemoveTodoItem(index)}
//                         className="text-red-500 hover:text-red-700 ml-2"
//                         title="Remove item"
//                       >
//                         <IoTrash />
//                       </button>
//                     </div>
//                   ))}
//                 </div>
//               )}
//             </div>

//             {/* Submit Buttons */}
//             <div className="flex gap-3">
//               <button
//                 type="submit"
//                 disabled={loading}
//                 className="flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-blue-300 disabled:cursor-not-allowed"
//               >
//                 {loading ? 'Creating Task...' : 'Create Task'}
//               </button>
//               <button
//                 type="button"
//                 onClick={() => navigate('/admin/tasks')}
//                 className="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors font-medium"
//               >
//                 Cancel
//               </button>
//             </div>
//           </form>
//         </div>
//       </div>
//     </DashboardLayout>
//   );
// };

// export default CreateTask;

// import { useContext, useEffect } from "react";
// import { useNavigate } from "react-router-dom";
// import { UserContext } from "../context/userContext";

// export const useUserAuth = () => {
//     const { user, loading, clearUser } = useContext(UserContext);
//     const navigate = useNavigate();

//     useEffect(() => {
//         if (loading) return;
//         if (user) return;

//         if (!user) {
//             clearUser();
//             navigate("/login")
//         }
//     }, [user, loading, clearUser, navigate])
// }

// import { createContext, useEffect, useState } from "react";
// import axiosInstance from "../utils/axiosinstance";
// import { API_PATHS } from "../utils/apiPaths";

// export const UserContext = createContext();

// const UserProvider = ({ children }) => {
//     const [user, setUser] = useState(null);
//     const [loading, setLoading] = useState(true);

//     useEffect(() => {
//         if (user) return;

//         const accessToken = localStorage.getItem("token");
//         if (!accessToken) {
//             setLoading(false)
//             return;
//         }

//         const fetchUser = async () => {
//             try {
//                 const response = await axiosInstance.get(API_PATHS.AUTH.GET_PROFILE);
//                 setUser(response.data);
//             } catch (error) {
//                 console.error("User not authenticated.", error);
//                 clearUser();
//             } finally {
//                 setLoading(false);
//             }
//         };
//         fetchUser();
//     }, [])

//     const updateUser = (userData) => {
//         setUser(userData);
//         localStorage.setItem("token", userData.token);
//         setLoading(false);
//     };

//     const clearUser = () => {
//         setUser(null);
//         localStorage.removeItem("token");
//     }

//     return (
//         <UserContext.Provider value={{ user, loading, updateUser, clearUser }}>
//             {children}
//         </UserContext.Provider>
//     )
// }

// export default UserProvider;

// import React from 'react'
// import moment from 'moment/moment';
// import { IoPencil, IoTrash } from 'react-icons/io5';
// import { Link } from 'react-router-dom';

// // Assuming props are { tableData, onDelete, showActions }
// const TaskListTable = ({ tableData, onDelete, showActions }) => { 
//     const getStatusBadgeColor = (status) => {
//         switch (status) {
//             case 'Completed': return 'bg-green-100 text-green-500 border border-green-200';
//             case 'Pending': return 'bg-purple-100 text-purple-500 border border-purple-200';
//             case 'In Progress': return 'bg-cyan-100 text-cyan-500 border border-cyan-200';
//             default: return 'bg-gray-100 text-gray-500 border border-gray-200';
//         }
//     };

//     const getPriorityBadgeColor = (priority) => {
//         switch (priority) {
//             case "High": return 'bg-red-100 text-red-500 border border-red-200';
//             case "Medium": return 'bg-orange-100 text-orange-500 border border-orange-200';
//             case "Low": return 'bg-green-100 text-green-500 border border-green-200';
//             default: return 'bg-gray-100 text-gray-500 border border-gray-200';
//         }
//     }
    
//     return (
//         <div className='overflow-x-auto p-0 rounded-lg mt-3'>
//             <table className='min-w-full divide-y divide-gray-200'>
//                 <thead>
//                     <tr className='text-left bg-gray-50'>
//                         <th className='py-3 px-4 text-gray-800 font-medium text-xs uppercase tracking-wider'>Name</th>
//                         <th className='py-3 px-4 text-gray-800 font-medium text-xs uppercase tracking-wider'>Status</th>
//                         <th className='py-3 px-4 text-gray-800 font-medium text-xs uppercase tracking-wider'>Priority</th>
//                         <th className='py-3 px-4 text-gray-800 font-medium text-xs uppercase tracking-wider hidden md:table-cell'>Created On</th>
//                         {showActions && (
//                             <th className='py-3 px-4 text-gray-800 font-medium text-xs uppercase tracking-wider'>Actions</th>
//                         )}
//                     </tr>
//                 </thead>
//                 <tbody className='bg-white divide-y divide-gray-200'>
//                     {/* FIX: Using implicit return () for map function */}
//                     {tableData.map((task) => ( 
//                         <tr key={task._id} className='hover:bg-gray-50'>
//                             <td className='py-3 px-4 text-gray-700 text-sm line-clamp-1 max-w-xs'> 
//                                 {task.title}
//                             </td>
//                             {/* FIX: Using <td> tag */}
//                             <td className="py-3 px-4">
//                                 <span className={`px-2 py-1 text-xs font-semibold rounded-full inline-block ${getStatusBadgeColor(task.status)}`}>
//                                     {task.status}
//                                 </span>
//                             </td>
//                             {/* FIX: Using <td> tag */}
//                             <td className="py-3 px-4">
//                                 <span className={`px-2 py-1 text-xs font-semibold rounded-full inline-block ${getPriorityBadgeColor(task.priority)}`}>
//                                     {task.priority}
//                                 </span>
//                             </td>
//                             {/* FIX: Using <td> tag */}
//                             <td className="py-3 px-4 text-gray-700 text-xs text-nowrap hidden md:table-cell">
//                                 {task.createdAt ? moment(task.createdAt).format('Do MMM YYYY') : 'N/A'}
//                             </td>
                            
//                             {showActions && (
//                                 <td className="py-3 px-4 text-sm text-gray-500 whitespace-nowrap">
//                                     <div className='flex items-center space-x-2'>
//                                         {/* Edit Link: Navigates to the CreateTask route, passing task ID as a query parameter for update */}
//                                         <Link 
//                                             to={`/admin/create-task?taskId=${task._id}`} 
//                                             className='text-blue-600 hover:text-blue-900'
//                                             title='Edit Task'
//                                         >
//                                             <IoPencil className='w-4 h-4' />
//                                         </Link>
                                        
//                                         {/* Delete Button: Only shown if the onDelete function is passed (i.e., for Admin) */}
//                                         {onDelete && (
//                                             <button
//                                                 onClick={() => onDelete(task._id)}
//                                                 className='text-red-600 hover:text-red-900'
//                                                 title='Delete Task'
//                                             >
//                                                 <IoTrash className='w-4 h-4' />
//                                             </button>
//                                         )}
//                                     </div>
//                                 </td>
//                             )}
//                         </tr>
//                     ))}
//                     {tableData.length === 0 && (
//                         <tr>
//                             <td colSpan={showActions ? 5 : 4} className="text-center py-6 text-gray-500">
//                                 No tasks found.
//                             </td>
//                         </tr>
//                     )}
//                 </tbody>
//             </table>
//         </div>
//     )
// }

// export default TaskListTable;


// import React, { useContext, useEffect, useState } from 'react';
// import { UserContext } from '../../context/userContext';
// import { useNavigate } from 'react-router-dom';
// import { SIDE_MENU_DATA, SIDE_MENU_USER_DATA } from '../../utils/data';

// const SideMenu = ({ activeMenu }) => {
//   const { user, clearUser } = useContext(UserContext);
//   const [sideMenuData, setSideMenuData] = useState([]);
//   const navigate = useNavigate();

//   const handleClick = (route) => {
//     if (route === 'logout') {
//       handleLogout();
//       return;
//     }
//     navigate(route);
//   };

//   const handleLogout = () => {
//     localStorage.clear();
//     clearUser();
//     navigate('/login');
//   };

//   useEffect(() => {
//     if (user) {
//       setSideMenuData(user.role === 'admin' ? SIDE_MENU_DATA : SIDE_MENU_USER_DATA);
//     }
//   }, [user]);

//   return (
//     <div className="w-64 h-[calc(100vh-61px)] bg-white border-r border-gray-200/50 sticky top-16 z-20">
//       {/* Profile Section */}
//       <div className="flex flex-col items-center justify-center mb-7 pt-5">
//         <div className="relative ">
//           <img
//             src={user?.profileImageUrl || '/default-avatar.png'}
//             alt="Profile"
//             className="w-20 h-20  bg-slate-400 rounded-full object-cover"
//           />
//         </div>

//         {user?.role === 'admin' && (
//           <div className="text-xs font-medium text-white bg-primary px-3 py-0.5 rounded mt-1">
//             Admin
//           </div>
//         )}

//         <h5 className="text-gray-950 text-lg font-medium leading-6 mt-3">
//           {user?.name || ''}
//         </h5>
//         <p className="text-xs text-gray-500">{user?.email || ''}</p>
//       </div>

//       {/* Menu Items */}
//       <div className="flex flex-col">
//         {sideMenuData.map((item, index) => {
//           const Icon = item.icons; 
//           return (
//             <button
//               key={item.id || index}
//               onClick={() => handleClick(item.path)}
//               className={`w-full flex items-center gap-4 text-md font-semibold py-3 px-6 mb-1 transition-colors duration-200
//                 ${activeMenu === item.label
//                   ? 'text-primary bg-linear-to-r from-blue-50/40 to-blue-100/50 border-r-4 border-primary'
//                   : 'text-gray-700 hover:bg-blue-50/40 hover:text-primary'
//                 }`}
//             >
//               {Icon ? <Icon className="text-xl" /> : null}
//               {item.label}
//             </button>
//           );
//         })}
//       </div>
//     </div>
//   );
// };

// export default SideMenu;

// import React, { useState } from 'react'
// import SideMenu from './SideMenu'
// import { HiOutlineMenu, HiOutlineX } from "react-icons/hi"

// const Navbar = ({activeMenu}) => {
//     const [openSideMenu, setOpenSideMenu] = useState(false);
//     return (
//         <div className='flex gap-5 bg-white border border-b border-gray-200/50 backdrop-blur-[2px] py-4 px-7 sticky top-0 z-30'>
//             <button
//                 className='block lg:hidden text-black'
//                 onClick={() => {
//                     setOpenSideMenu(!openSideMenu)
//                 }}
//             >
//                 {openSideMenu ? (
//                     <HiOutlineX className="text-2xl" />
//                 ) : (
//                     <HiOutlineMenu className="text-2xl" />)}
//             </button>

//             <h2 className='text-lg font-medium font-stack text-black'>Expense Tracker</h2>

//             {openSideMenu && (
//                 <div className='fixed top-4 -ml-4 bg-white '>
//                     <SideMenu activeMenu={activeMenu} />
//                 </div>
//             )}
//         </div>
//     )
// }

// export default Navbar

// import React, { useContext } from 'react'
// import Navbar from './Navbar'
// import { UserContext } from '../../context/userContext'
// import SideMenu from './SideMenu';

// const DashboardLayout = ({activeMenu, children}) => {
//     const { user } = useContext(UserContext);
//     return (
//         <div className=''>
//             <Navbar activeMenu={activeMenu} />

//             {user && (
//                 <div className='flex'>
//                     <div className='max-[1080px]:hidden'>
//                         <SideMenu activeMenu={activeMenu} />
//                     </div>

//                     <div className='grow mx-5'>
//                         {children}
//                     </div>
//                 </div>
//             )}
//         </div>
//     )
// }

// export default DashboardLayout

// import React from 'react'

// const Button = ({}) => {
//   return (
//     <div>Button</div>
//   )
// }

// export default Button

// import React from 'react'
// import UI_IMG from "../../assets/images/auth-img.png"
// import BG_IMG from "../../assets/images/bg-img.png" // âœ… Import your background

// const AuthLayout = ({ children }) => {
//   return (
//     <div className="flex">
//       {/* Left side (form) */}
//       <div className="w-screen h-screen md:w-[60vw] px-12 pt-8 pb-12">
//         <h2 className="font-stack text-2xl text-black ">Task Manager</h2>
//         {children}
//       </div>

//       {/* Right side (background + image) */}
//       <div
//         className="hidden md:flex w-[40vw] h-screen items-center justify-center bg-blue-50 bg-cover bg-no-repeat bg-center overflow-hidden p-8"
//         style={{ backgroundImage: `url(${BG_IMG})` }} 
//       >
//         <img src={UI_IMG} className="w-64 lg:w-[90%]" alt="UI" />
//       </div>
//     </div>
//   )
// }

// export default AuthLayout


// import React, { useState } from 'react'
// import { useRef } from 'react';
// import { LuTrash, LuUpload, LuUser } from 'react-icons/lu'

// const ProfilePhotoSelector = ({ image, setImage }) => {
//     const inputRef = useRef(null);

//     const [previewUrl, setPreviewUrl] = useState(null);

//     const handleImageChange = (event) => {
//         const file = event.target.files[0];
//         if (file) {
//             //update the image state 
//             setImage(file);

//             // Generate preview url from the file
//             const preview = URL.createObjectURL(file);
//             setPreviewUrl(preview)
//         }
//     };

//     const handleRemoveImage = () => {
//         setImage(null);
//         setPreviewUrl(null);
//     }

//     const onChooseFile = () => {
//         inputRef.current.click();
//     }

//     return (
//         <div className='flex justify-center mb-6 '>
//             <input
//                 type="file"
//                 accept='image/*'
//                 ref={inputRef}
//                 onChange={handleImageChange}
//                 className="hidden"
//             />

//             {!image ? (
//                 <div className='w-20 h-20 flex items-center justify-center bg-blue-100/50 rounded-full relative cursor-pointer'>
//                     <LuUser className="text-4xl text-primary" />
//                     <button
//                         type='button'
//                         className='w-8 h-8 flex items-center justify-center  text-white rounded-full absolute bg-blue-600 -bottom-1 -right-1 cursor-pointer'
//                         onClick={onChooseFile}
//                     >
//                         <LuUpload className='text-xl  justify-center text-prima ry' />
//                     </button>
//                 </div>
//             ) : (
//                 <div className='relative'>
//                     <img
//                         src={previewUrl}
//                         alt='profile photo'
//                         className='w-20 h-20 rounded-full object-cover'
//                     />
//                     <button
//                         type='button'
//                         className='w-8 h-8 flex items-center justify-center bg-red-500 text-white rounded-full absolute -bottom-1 -right-1'
//                         onClick={handleRemoveImage}
//                     >
//                         <LuTrash />
//                     </button>
//                 </div>
//             )}
//         </div>
//     )
// }

// export default ProfilePhotoSelector

// import React, { useState } from 'react'
// import { FaRegEye, FaRegEyeSlash } from "react-icons/fa6"

// const Input = ({ value, onChange, label, placeholder, type }) => {
//     const [showPassword, setShowPassword] = useState(false);

//     const toggleShowPassword = () => {
//         setShowPassword(!showPassword);
//     }

//     return (
//         <div >
//             <label className='text-[13px] text-slate-800 font-stack' >{label}</label>
//             <div className='input-box'>
//                 <input type={type == "password" ? (showPassword ? "text" : "password") : type}
//                     placeholder={placeholder}
//                     className='w-full bg-transparent outline-none'
//                     value={value}
//                     onChange={(e) => onChange(e)}
//                 />

//                 {type == "password" && (
//                     <>
//                         {showPassword ? (
//                             <FaRegEye
//                                 size={22}
//                                 className='text-primary cursor-pointer'
//                                 onClick={() => toggleShowPassword()} />
//                         ) : (
//                             <FaRegEyeSlash
//                                 size={22}
//                                 onClick={() => toggleShowPassword()}
//                                 className='text-slate-400 cursor-pointer' />
//                         )}
//                     </>
//                 )}
//             </div>
//         </div>
//     )
// }

// export default Input

// import React from 'react'

// const CustomTooltip = ({active, payload}) => {
//     if(active && payload && payload.length) {
//         return (
//             <div className='bg-white shadow-md rounded-lg p-2 border border-gray-300'>
//                  <p className='text-xs font-semibold text-purple-800 mb-1'>{payload[0].name}</p>
//                  <p className='text-sm text-gray-600'>
//                     Count: <span className='text-sm font-medium text-gray-900'>{payload[0].value}</span>
//                  </p>
//             </div>
//         )
//     }
  
//     return null;
// }

// export default CustomTooltip

// import React from 'react'
// import {
//     PieChart,
//     Pie,
//     Cell,
//     Tooltip,
//     ResponsiveContainer,
//     Legend,
// } from "recharts"
// import CustomTooltip from './CustomTooltip'
// import CustomLegend from './CustomLegend'

// const CustomPieChart = ({ data, colors }) => {
//     return (
//         <ResponsiveContainer width="100%" height={325}>
//             <PieChart>
//                 <Pie
//                     data={data}
//                     dataKey="count"
//                     nameKey="status"
//                     cx="50%"
//                     cy="50%"
//                     outerRadius={130}
//                     innerRadius={100}
//                     labelLine={false}
//                 >{data.map((entry, index) => (
//                     <Cell key={`cell-${index}`} fill={colors[index % colors.length]} />
//                 ))}
//                 </Pie>
//                 <Tooltip content={<CustomTooltip />} />
//                 <Legend content={<CustomLegend />} />
//             </PieChart>
//         </ResponsiveContainer>
//     )
// }

// export default CustomPieChart

// import React from 'react'

// const CustomLegend = ({ payload }) => {
//     return (
//         <div className='flex flex-wrap justify-center gap-2 mt-4 space-x-6'>
//             {payload.map((entry, index) => (
//                 <div key={`legend-${index}`} className='flex items-center space-x-2'>
//                     <div className='w-2.5 h-2.5 rounded-full'
//                         style={{ backgroundColor: entry.color }}
//                     >
//                     </div>
//                     <span className='text-xs text-gray-700 font-medium'>{entry.value}
//                     </span>
//                 </div>
//             ))}
//         </div>
//     )
// }

// export default CustomLegend

// import React from 'react'
// import {
//     BarChart,
//     Bar,
//     XAxis,
//     YAxis,
//     CartesianGrid,
//     Tooltip,
//     Legend,
//     ResponsiveContainer,
//     Cell
// } from 'recharts'

// const CustomBarChart = ({ data }) => {

//     const getBarColor = (entry) => {
//         switch (entry?.priority) {
//             case "Low":
//                 return '#00BC7D'
//             case "Medium":
//                 return '#FE9900'
//             case "High":
//                 return '#FF1F57'

//             default:
//                 return '#00BC7D'

//         }
//     };

//     const CustomTooltip = ({ active, payload }) => {
//         if (active && payload && payload.length) {
//             return (
//                 <div className='bg-white shadow-md rounded-lg p-2 border border-gray -300'>
//                     <p className='text-xs font-semibold text-purple-800 mb-1'>
//                         {payload[0].payload.priority}
//                     </p>
//                     <p className='text-sm text-gray-600'>
//                         Count:{" "}
//                         <span
//                             className='text-sm font-medium text-gray-900'>
//                             {payload[0].payload.count}
//                         </span>
//                     </p>
//                 </div>
//             )
//         }
//         return null;
//     }


//     return (
//         <div className=''>
//             <ResponsiveContainer width="100%" height={300}>
//                 <BarChart data={data}>
//                     <CartesianGrid stroke='none' />
//                     <XAxis dataKey="priority"
//                         tick={{ fontSize: 12, fill: "#555" }}
//                         stroke='none'
//                     />
//                     <YAxis tick={{ fontSize: 12, fill: "#555" }}
//                         stroke='none'
//                     />

//                     <Tooltip content={CustomTooltip} curso={{ file: 'trasparent' }} />
//                     <Bar dataKey="count">
//                         {data.map((entry, index) => (
//                             <Cell key={index} fill={getBarColor(entry)} />
//                         )
//                         )}
//                     </Bar>
//                 </BarChart>
//             </ResponsiveContainer>
//         </div>
//     )
// }

// export default CustomBarChart

// import React from 'react'

// const InfoCard = ({ icon, label, value, color }) => {
//   return (
//     <div className="flex flex-col items-center justify-center text-center">
//       <div
//         className={`flex items-center justify-center w-10 h-10 md:w-12 md:h-12 ${color} rounded-full`}
//       >
//         {icon && <span className="text-white text-lg">{icon}</span>}
//       </div>

//       <p className="text-xs md:text-sm text-gray-500 mt-2">{label}</p>

//       <span className="text-sm md:text-[15px] text-black font-semibold">
//         {value}
//       </span>
//     </div>
//   )
// }

// export default InfoCard;

// import React from 'react';
// import { IoCalendarOutline, IoPersonOutline, IoCheckmarkCircle } from 'react-icons/io5';
// import moment from 'moment';

// const TaskCard = ({ task, onClick }) => {
//   const getPriorityColor = (priority) => {
//     switch (priority) {
//       case 'High':
//         return 'bg-red-100 text-red-800 border-red-300';
//       case 'Medium':
//         return 'bg-yellow-100 text-yellow-800 border-yellow-300';
//       case 'Low':
//         return 'bg-green-100 text-green-800 border-green-300';
//       default:
//         return 'bg-gray-100 text-gray-800 border-gray-300';
//     }
//   };

//   const getStatusColor = (status) => {
//     switch (status) {
//       case 'Completed':
//         return 'bg-green-500';
//       case 'In Progress':
//         return 'bg-cyan-500';
//       case 'Pending':
//         return 'bg-yellow-500';
//       default:
//         return 'bg-gray-500';
//     }
//   };

//   const progress = task.progress || 0;
//   const completedTodos = task.completedTodoCount || 0;
//   const totalTodos = task.todoChecklist?.length || 0;

//   return (
//     <div 
//       onClick={onClick}
//       className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-4 cursor-pointer border border-gray-200"
//     >
//       {/* Header */}
//       <div className="flex items-start justify-between mb-3">
//         <h3 className="font-semibold text-lg text-gray-800 flex-1 pr-2">
//           {task.title}
//         </h3>
//         <span className={`text-xs px-2 py-1 rounded-full border ${getPriorityColor(task.priority)}`}>
//           {task.priority}
//         </span>
//       </div>

//       {/* Description */}
//       <p className="text-sm text-gray-600 mb-3 line-clamp-2">
//         {task.description}
//       </p>

//       {/* Progress Bar */}
//       {totalTodos > 0 && (
//         <div className="mb-3">
//           <div className="flex items-center justify-between mb-1">
//             <span className="text-xs text-gray-600 font-medium">Progress</span>
//             <span className="text-xs font-semibold text-gray-700">{progress}%</span>
//           </div>
//           <div className="w-full bg-gray-200 rounded-full h-2 overflow-hidden">
//             <div 
//               className={`h-full rounded-full transition-all duration-300 ${getStatusColor(task.status)}`}
//               style={{ width: `${progress}%` }}
//             />
//           </div>
//           <div className="flex items-center gap-1 mt-1">
//             <IoCheckmarkCircle className="text-gray-500 text-xs" />
//             <span className="text-xs text-gray-500">
//               {completedTodos} of {totalTodos} tasks completed
//             </span>
//           </div>
//         </div>
//       )}

//       {/* Status Badge */}
//       <div className="mb-3">
//         <span className={`inline-flex items-center text-xs px-3 py-1 rounded-full text-white ${getStatusColor(task.status)}`}>
//           {task.status}
//         </span>
//       </div>

//       {/* Footer */}
//       <div className="flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-100">
//         <div className="flex items-center gap-1">
//           <IoCalendarOutline />
//           <span>Due: {moment(task.dueDate).format('MMM DD, YYYY')}</span>
//         </div>
//         {task.assignedTo && task.assignedTo.length > 0 && (
//           <div className="flex items-center gap-1">
//             <IoPersonOutline />
//             <span>{task.assignedTo.length} assigned</span>
//           </div>
//         )}
//       </div>
//     </div>
//   );
// };

// export default TaskCard;